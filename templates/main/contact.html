{% extends 'base.html' %}

{% block title %}تواصل معنا - Sultan Prints{% endblock %}

{% block content %}
<main role="main" id="main-content">
<section class="contact-section py-5">
  <div class="container">
    <h1 class="fw-bold h3 mb-4">تواصل معنا</h1>
    <div class="row g-4">
      <div class="col-md-6">
        <form method="post" class="contact-form" aria-label="نموذج التواصل">
          {{ form.csrf_token }}
          <div class="mb-3">
            <label for="name" class="form-label">الاسم</label>
            {{ form.name(class_="form-control", id="name", required=True, aria_required="true", aria_label="الاسم") }}
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">البريد الإلكتروني</label>
            {{ form.email(class_="form-control", id="email", required=True, aria_required="true", aria_label="البريد الإلكتروني") }}
          </div>
          <div class="mb-3">
            <label for="phone" class="form-label">رقم الهاتف</label>
            {{ form.phone(class_="form-control", id="phone", aria_label="رقم الهاتف") }}
          </div>
          <div class="mb-3">
            <label for="message" class="form-label">رسالتك</label>
            {{ form.message(class_="form-control", id="message", required=True, aria_required="true", aria_label="رسالتك") }}
          </div>
          <button type="submit" class="btn btn-primary w-100" aria-label="إرسال الرسالة"><i class="fas fa-paper-plane me-2"></i> إرسال</button>
        </form>
      </div>
      <div class="col-md-6">
        <div class="contact-info bg-light rounded p-4 h-100">
          <h2 class="h5 mb-3">معلومات التواصل</h2>
          <ul class="list-unstyled mb-0">
            <li><i class="fas fa-envelope me-2"></i> {{ settings.contact_email or 'info@sultanprints.com' }}</li>
            <li><i class="fas fa-phone me-2"></i> {{ settings.phone_number or '+20 123 456 789' }}</li>
            <li><i class="fas fa-map-marker-alt me-2"></i> {{ settings.address or 'مصر' }}</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>
</main>
{% endblock %}

{% block extra_css %}
<style>
.contact-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    padding: 80px 0;
}

.contact-card {
    background: white;
    border-radius: 20px;
    padding: 40px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    border: none;
}

.contact-info-item {
    display: flex;
    align-items: center;
    margin-bottom: 30px;
    padding: 20px;
    background: #f8f9ff;
    border-radius: 15px;
    transition: all 0.3s ease;
}

.contact-info-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
}

.contact-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: 20px;
    color: white;
    font-size: 1.5rem;
}

.contact-text h5 {
    color: #333;
    margin-bottom: 5px;
    font-weight: 600;
}

.contact-text p {
    color: #666;
    margin: 0;
}

.form-control, .form-select {
    border: 2px solid #e9ecef;
    border-radius: 10px;
    padding: 12px 15px;
    transition: all 0.3s ease;
}

.form-control:focus, .form-select:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
}

.btn-primary {
    background: linear-gradient(135deg, #667eea, #764ba2);
    border: none;
    border-radius: 10px;
    padding: 12px 30px;
    font-weight: 600;
    transition: all 0.3s ease;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
}

.section-title {
    color: white;
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 20px;
    text-align: center;
}

.section-subtitle {
    color: rgba(255, 255, 255, 0.9);
    font-size: 1.2rem;
    text-align: center;
    margin-bottom: 50px;
}

/* Accordion custom styling */
.accordion-button:not(.collapsed) {
    background-color: #e7f3ff;
    color: #0c63e4;
    border-color: #b6d7ff;
}

.accordion-button:focus {
    box-shadow: 0 0 0 0.25rem rgba(102, 126, 234, 0.25);
    border-color: #667eea;
}

.accordion-button::after {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%230c63e4'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
}

.accordion-button:not(.collapsed)::after {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%230c63e4'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
}
</style>
{% endblock %}

{% block extra_js %}
<script>
    // Form validation and submission
    document.getElementById('contactForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Basic validation
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const message = document.getElementById('message').value.trim();
        
        if (!name || !email || !message) {
            alert('يرجى ملء جميع الحقول المطلوبة');
            return;
        }
        
        // Email validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            alert('يرجى إدخال بريد إلكتروني صحيح');
            return;
        }
        
        // Submit form
        this.submit();
    });
</script>
{% endblock %}